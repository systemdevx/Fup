<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo - Nova Requisição</title>
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <link rel="stylesheet" href="novo_pedido.css">
</head>
<body>

    <div class="nav-bar">
        <div class="breadcrumbs">
            <strong>Nova Requisição > Catálogo de materiais</strong>
        </div>
        <div class="nav-actions">
            <a href="transacoes.html" class="btn-cancel">
                <span class="material-icons-outlined">close</span> Cancelar
            </a>
            <button id="btnAvancar" class="btn-advance">
                Avançar <span class="material-icons-outlined">arrow_forward</span>
            </button>
        </div>
    </div>

    <div class="search-context-wrapper">
        <div class="search-module">
            <input type="text" id="searchInput" class="search-input" placeholder="Pesquise por código ou nome (Ex: 'caneta', 'INS')...">
            <button id="btnPesquisar" class="search-btn">
                <span class="material-icons">search</span>
            </button>
        </div>

        <div class="context-module">
            <div class="context-item">
                <span class="ctx-label">Categoria</span>
                <span class="ctx-value" id="displayCategoria">CCI CONIPA</span>
            </div>
            <div class="context-separator"></div>
            
            <div class="context-item">
                <span class="ctx-label">Empresa</span>
                <span class="ctx-value" id="displayEmpresa">3000 - CONIPA</span>
            </div>
            <div class="context-separator"></div>

            <div class="context-item">
                <span class="ctx-label">Org. Compras</span>
                <span class="ctx-value" id="displayOrg">OCCO - CONIPA</span>
            </div>
            <div class="context-separator"></div>

            <div class="context-item">
                <span class="ctx-label">Centro</span>
                <span class="ctx-value" id="displayCentro">FAB1</span>
            </div>
            
            <button id="btnAlterarContexto" class="btn-edit-context">
                <span class="material-icons-outlined" style="font-size: 16px;">edit</span> Alterar
            </button>
        </div>
    </div>

    <div class="main-layout">
        
        <section class="results-panel">
            <div class="panel-header">
                <span class="panel-title">Produtos Disponíveis</span>
                <div class="panel-controls">
                    <button class="icon-btn" title="Atualizar" onclick="location.reload()"><span class="material-icons">refresh</span></button>
                </div>
            </div>

            <div class="table-container">
                <table class="catalog-table" id="tabelaPrincipal">
                    <thead>
                        <tr>
                            <th width="100">Código</th>
                            <th>Descrição</th>
                            <th>Grupo</th>
                            <th width="80">Unidade</th>
                            <th width="120">Preço Unit.</th>
                            <th width="60" class="text-center">Ação</th>
                        </tr>
                    </thead>
                    <tbody id="tabelaProdutos"></tbody>
                </table>
            </div>
            
            <div class="panel-footer">
                <span class="footer-info" id="infoResultados">Itens exibidos</span>
                <div class="pagination">
                    <button id="btnPrevPage" class="nav-arrow" disabled><span class="material-icons">chevron_left</span></button>
                    
                    <div id="pageNumbers" class="page-numbers"></div>
                    
                    <button id="btnNextPage" class="nav-arrow" disabled><span class="material-icons">chevron_right</span></button>
                </div>
            </div>
        </section>

        <aside class="cart-panel">
            <div class="cart-header">
                <div class="cart-title-row">
                    <span class="material-icons cart-icon">shopping_cart</span>
                    <h3>Carrinho</h3>
                    
                    <button id="btnToggleCart" class="btn-toggle-cart" title="Ocultar/Mostrar itens">
                        <span class="material-icons">expand_less</span>
                    </button>

                    <button id="btnLimparCarrinho" class="btn-clear-cart" style="margin-left: auto;">Limpar</button>
                </div>
                
                <div class="cart-summary">
                    <span class="summary-label">Total Estimado</span>
                    <span class="summary-value total-value">R$ 0,00</span>
                </div>
            </div>

            <div id="cartContainer" class="cart-items-container">
                <div class="empty-cart-state">
                    <span class="material-icons-outlined">remove_shopping_cart</span>
                    <p>Seu carrinho está vazio</p>
                </div>
            </div>
        </aside>

    </div>

    <div id="modalConfig" class="modal-overlay">
        <div class="modal-config-box">
            <div class="modal-header-config">
                <h3>Configuração</h3>
                <span class="close-cross" id="btnCloseConfigTop">×</span>
            </div>
            <div class="modal-body-config">
                <div class="config-group">
                    <label>Categoria de Requisição:</label>
                    <select id="confCategoria" class="input-config">
                        <option>CCI CONIPA</option>
                        <option>USO E CONSUMO</option>
                        <option>IMOBILIZADO</option>
                    </select>
                </div>
                <div class="config-group">
                    <label>EMPRESA:</label>
                    <input type="text" id="confEmpresa" class="input-config" value="3000 - CONIPA">
                </div>
                <div class="config-group">
                    <label>ORGANIZAÇÃO DE COMPRAS:</label>
                    <input type="text" id="confOrg" class="input-config" value="OCCO - CONIPA">
                </div>
                <div class="config-group">
                    <label>CENTRO:</label>
                    <input type="text" id="confCentro" class="input-config" value="FAB1 - FABRICA MANAUS">
                </div>
            </div>
            <div class="modal-footer-config">
                <button id="btnSalvarConfig" class="btn-config-save">
                    <span class="material-icons" style="font-size:16px;">save</span> Salvar
                </button>
                <button id="btnFecharConfig" class="btn-config-white">
                    <span class="material-icons" style="font-size:14px; margin-right:3px;">close</span> Fechar
                </button>
                <button id="btnVoltarMercado" class="btn-config-white">Voltar Para Meu Mercado</button>
            </div>
        </div>
    </div>

    <script src="novo_pedido.js"></script>
</body>
</html>